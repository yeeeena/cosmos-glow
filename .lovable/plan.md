

# PRD: 컨셉샷 자동 생성 기능

## 1. 개요

### 제품 비전
제품 이미지 1장과 컨셉 스타일만 선택하면, AI가 메인 컨셉샷 + 상세컷 세트를 자동 생성해주는 서비스. 산업디자이너가 포트폴리오, 프레젠테이션, 상세페이지용 이미지를 빠르게 제작할 수 있도록 지원한다.

### 핵심 가치
- "어떻게 찍을까" 고민 없이, 업로드만 하면 완성된 컨셉샷 세트 제공
- AI가 제품을 분석하여 필요한 상세컷까지 자동 추천

### 타겟 사용자
- 산업디자이너 (포트폴리오, 피칭 자료 제작)
- 1인 셀러 / 스타트업 (상세페이지, 마케팅 자료 제작)
- 디자인 학생 (과제, 전시 자료 제작)

---

## 2. 사용자 플로우

```text
[Step 1]           [Step 2]            [Step 3]           [Step 4]         [Step 5]
제품 이미지    -->  컨셉 스타일    -->   생성 옵션    -->   생성/결과   -->   활용
업로드              선택                 선택               확인              다운로드
(1장)          (프리셋 or 레퍼런스)  (상세컷 구성)      (미리보기)       (개별/ZIP)
```

---

## 3. 기능 상세

### Step 1: 제품 이미지 업로드
- 제품 이미지 1장 업로드 (PNG, JPG, WEBP)
- 픽스 내부 생성 이미지 또는 외부 촬영 이미지 모두 허용
- 업로드 후 미리보기 썸네일 표시
- 권장 해상도 안내 (예: 1024x1024 이상)

### Step 2: 컨셉샷 스타일 선택
4가지 프리셋 카테고리 제공, 각 카테고리에 예시 이미지 3장 포함:

| 스타일 | 설명 | 키워드 |
|--------|------|--------|
| 미니멀 스튜디오 | 깔끔한 배경, 소프트 라이팅 | 화이트/그레이 톤, 그림자 |
| 다이나믹 앵글 | 역동적 구도, 강렬한 조명 대비 | 로우앵글, 하이라이트 |
| 네이처/라이프스타일 | 자연광, 생활 맥락 속 제품 | 나무, 패브릭, 일상 |
| 테크/퓨처리스틱 | 네온, 그리드, SF 감성 | 다크 배경, 글로우 |

- "직접 업로드" 옵션: 사용자가 원하는 레퍼런스 이미지를 업로드하여 스타일 지정
- 스타일 카드 클릭 시 예시 이미지 3장을 라이트박스로 미리보기

### Step 3: 생성 옵션 선택
생성할 이미지 구성을 선택:

- **메인 컨셉샷 1장** (필수, 항상 포함)
- **상세컷 옵션** (다중 선택 가능):
  - 상세컷 없음
  - 기본 상세컷 3장: 정면, 측면, 45도 앵글 등 범용 구도
  - AI 추천 상세컷 3~5장: AI가 제품 카테고리를 분석하여 적합한 상세컷 자동 제안

- **AI 추천 상세컷 UX**:
  - 제품 업로드 후 AI가 카테고리 자동 판별 (예: "무선 이어폰")
  - 추천 상세컷 목록을 체크박스로 표시
  - 사용자가 체크/해제하여 원하는 컷만 선택 가능
  - 예시 UI:
    ```
    [AI가 이 제품을 분석했어요]
    제품 카테고리: 무선 이어폰
    추천 상세컷:
    [v] 충전 케이스 오픈 샷
    [v] 착용감 강조 측면 컷
    [v] 터치 버튼 조작부 클로즈업
    [ ] 크기 비교 컷
    ```

### Step 4: 생성 및 결과 확인
- "생성하기" 버튼 클릭 시 로딩 상태 표시 (프로그레스 바 + 예상 소요 시간)
- 생성 완료 후 결과 이미지를 그리드로 표시:
  - 메인 컨셉샷: 크게 (상단, 가로 전체)
  - 상세컷: 하단 3~5열 그리드
- 각 이미지에 "재생성" 버튼 (개별 컷 재생성 가능)
- 전체 스타일 변경 후 재생성 가능

### Step 5: 활용
- 개별 이미지 다운로드 (PNG/JPG)
- ZIP 일괄 다운로드
- (향후) 플로우보드로 내보내기

---

## 4. 크레딧 체계

| 항목 | 크레딧 |
|------|--------|
| 메인 컨셉샷 1장 | 16 credits |
| 기본 상세컷 3장 | 32 credits |
| AI 추천 상세컷 3~5장 | 32~48 credits |
| 개별 재생성 1장 | 8 credits |

- 생성 전 총 소요 크레딧 미리 표시
- 크레딧 부족 시 "크레딧 충전" 유도

---

## 5. UI 구조 (페이지 구성)

### 메인 생성 페이지 (`/`)
현재 CreatePage를 확장하여 스텝 기반 UI로 전환:

```text
+------------------------------------------+
|  사이드바  |        메인 콘텐츠            |
|  (220px)  |                              |
|           |  [스텝 인디케이터 1-2-3]       |
|  🧪픽스   |                              |
|  실험실    |  [현재 스텝 콘텐츠 영역]       |
|           |                              |
|  - 홈     |                              |
|           |  [하단: 프롬프트 + 생성 버튼]   |
|           |  [크레딧 표시]                 |
+------------------------------------------+
```

### 결과 페이지 (`/result` 또는 모달)
```text
+------------------------------------------+
|  [메인 컨셉샷 - 대형 프리뷰]              |
|                                          |
|  [상세컷 1] [상세컷 2] [상세컷 3]         |
|  [상세컷 4] [상세컷 5]                    |
|                                          |
|  [다운로드 ▼]  [재생성]  [스타일 변경]     |
+------------------------------------------+
```

---

## 6. 기술 구현 계획

### 프론트엔드 변경 사항

| 파일 | 작업 |
|------|------|
| `src/pages/CreatePage.tsx` | 스텝 기반 UI로 전면 재구성 |
| `src/components/create/StepIndicator.tsx` | 새로 생성 - 3단계 진행 표시 컴포넌트 |
| `src/components/create/StepUpload.tsx` | 새로 생성 - 제품 이미지 업로드 UI |
| `src/components/create/StepStyle.tsx` | 새로 생성 - 스타일 선택 카드 그리드 |
| `src/components/create/StepOptions.tsx` | 새로 생성 - 상세컷 옵션 선택 UI |
| `src/components/create/ResultView.tsx` | 새로 생성 - 결과 이미지 그리드 + 다운로드 |
| `src/components/create/AIRecommendation.tsx` | 새로 생성 - AI 추천 상세컷 패널 |

### 상태 관리
```text
createState = {
  currentStep: 1 | 2 | 3
  productImage: string | null        // 업로드된 제품 이미지 URL
  selectedStyle: string | null       // 선택된 스타일 프리셋 ID
  referenceImage: string | null      // 직접 업로드한 레퍼런스 (선택)
  detailOptions: {
    basicDetails: boolean             // 기본 상세컷 3장
    aiRecommended: boolean            // AI 추천 상세컷
    selectedAIDetails: string[]       // 선택된 AI 추천 상세컷 목록
  }
  prompt: string                     // 추가 설명 (선택)
  generatedImages: GeneratedImage[]  // 생성된 결과 이미지
  isGenerating: boolean
}
```

### 백엔드 (향후 Supabase 연동 시)
- 이미지 업로드: Supabase Storage
- AI 생성 요청: Edge Function -> 외부 AI API (예: Replicate, Stability AI)
- 생성 이력 저장: Supabase Database
- 크레딧 관리: Supabase Database + RLS

---

## 7. MVP 범위 (1차)

**포함:**
- Step 1~3 UI 구현 (업로드, 스타일 선택, 옵션 선택)
- 4가지 스타일 프리셋 카드 (예시 이미지는 placeholder)
- 결과 화면 UI (mock 이미지로 미리보기)
- 다운로드 버튼 (개별/ZIP)
- AI 추천 상세컷 UI (mock 데이터)

**미포함 (2차):**
- 실제 AI 이미지 생성 API 연동
- 크레딧 결제 시스템
- 플로우보드 연동
- 생성 이력 저장/관리

---

## 8. 성공 지표

| 지표 | 목표 |
|------|------|
| 이미지 세트 생성 완료율 | 70% 이상 |
| 재생성 비율 | 30% 이하 (1회 만족도 높이기) |
| 평균 세션 소요 시간 | 3분 이내 (업로드~생성 완료) |
| 다운로드 전환율 | 80% 이상 |

